{"ast":null,"code":"import { GET_PROFILE, GET_PROFILE_FAIL, GET_PROFILE_SUCCESS, LOGIN_FAIL, LOGIN_SUCCESS, LOGIN_USER, REGISTER_FAIL, REGISTER_SUCCESS, REGISTER_USER, LOGOUT, UPDATE_FAIL, UPDATE_SUCCESS, UPDATE_USER, FETCH_ALL_USERS, FETCH_ALL_USERS_SUCCESS, FETCH_ALL_USERS_FAIL, SEE_ALL_PREFERENCES, ADD_PREFERENCES, ADD_PREFERENCES_SUCCESS, ADD_PREFERENCES_FAIL } from '../constants/action-types';\nconst initialState = {\n  loading: false,\n  user: null,\n  errors: null,\n  preferences: []\n};\n\nconst userReducer = (state = initialState, {\n  type,\n  payload\n}) => {\n  switch (type) {\n    case REGISTER_USER:\n      return { ...state,\n        loading: true\n      };\n\n    case REGISTER_SUCCESS:\n      return { ...state,\n        loading: false,\n        user: payload\n      };\n\n    case REGISTER_FAIL:\n      return { ...state,\n        loading: false,\n        errors: payload\n      };\n\n    case LOGIN_USER:\n      return { ...state,\n        loading: true\n      };\n\n    case LOGIN_FAIL:\n      return { ...state,\n        loading: false,\n        errors: payload\n      };\n\n    case LOGIN_SUCCESS:\n      return { ...state,\n        loading: false,\n        token: payload.token,\n        user: payload.user\n      };\n\n    case GET_PROFILE:\n      return { ...state,\n        loading: true\n      };\n\n    case GET_PROFILE_FAIL:\n      return { ...state,\n        loading: false,\n        errors: payload\n      };\n\n    case GET_PROFILE_SUCCESS:\n      return { ...state,\n        loading: false,\n        isAuth: payload,\n        user: payload\n      };\n\n    case LOGOUT:\n      return { ...state,\n        loading: false,\n        // isAuth: false,\n        user: null,\n        token: null\n      };\n\n    case UPDATE_USER:\n      return { ...state,\n        loading: true\n      };\n\n    case UPDATE_SUCCESS:\n      return { ...state,\n        loading: false,\n        user: payload.user\n      };\n\n    case UPDATE_FAIL:\n      return { ...state,\n        loading: false,\n        errors: payload\n      };\n\n    case FETCH_ALL_USERS:\n      return {\n        isLoading: true,\n        users: []\n      };\n\n    case FETCH_ALL_USERS_SUCCESS:\n      return {\n        isLoading: false,\n        users: payload.users\n      };\n\n    case FETCH_ALL_USERS_FAIL:\n      return {\n        isLoading: false,\n        error: payload\n      };\n\n    case SEE_ALL_PREFERENCES:\n      return { ...state,\n        preferences: payload,\n        loading: false,\n        isAuth: payload\n      };\n\n    case ADD_PREFERENCES:\n      return { ...state,\n        loading: true\n      };\n\n    case ADD_PREFERENCES_SUCCESS:\n      return { ...state,\n        loading: false,\n        user: { ...state.user,\n          myPreferences: payload.myPreferences\n        }\n      };\n\n    case ADD_PREFERENCES_FAIL:\n      return { ...state,\n        loading: false,\n        errors: payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","map":{"version":3,"sources":["C:/Users/zagho/PFE_Git/Full-Project-MERN/client/src/JS/reducers/userReducer.js"],"names":["GET_PROFILE","GET_PROFILE_FAIL","GET_PROFILE_SUCCESS","LOGIN_FAIL","LOGIN_SUCCESS","LOGIN_USER","REGISTER_FAIL","REGISTER_SUCCESS","REGISTER_USER","LOGOUT","UPDATE_FAIL","UPDATE_SUCCESS","UPDATE_USER","FETCH_ALL_USERS","FETCH_ALL_USERS_SUCCESS","FETCH_ALL_USERS_FAIL","SEE_ALL_PREFERENCES","ADD_PREFERENCES","ADD_PREFERENCES_SUCCESS","ADD_PREFERENCES_FAIL","initialState","loading","user","errors","preferences","userReducer","state","type","payload","token","isAuth","isLoading","users","error","myPreferences"],"mappings":"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","sourcesContent":["import {\r\n  GET_PROFILE,\r\n  GET_PROFILE_FAIL,\r\n  GET_PROFILE_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_USER,\r\n  REGISTER_FAIL,\r\n  REGISTER_SUCCESS,\r\n  REGISTER_USER,\r\n  LOGOUT,\r\n  UPDATE_FAIL,\r\n  UPDATE_SUCCESS,\r\n  UPDATE_USER,\r\n  FETCH_ALL_USERS,\r\n  FETCH_ALL_USERS_SUCCESS,\r\n  FETCH_ALL_USERS_FAIL,\r\n  SEE_ALL_PREFERENCES,\r\n  ADD_PREFERENCES,\r\n  ADD_PREFERENCES_SUCCESS,\r\n  ADD_PREFERENCES_FAIL,\r\n} from '../constants/action-types';\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  user: null,\r\n  errors: null,\r\n  preferences: [],\r\n};\r\n\r\nconst userReducer = (state = initialState, { type, payload }) => {\r\n  switch (type) {\r\n    case REGISTER_USER:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    case REGISTER_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: payload,\r\n      };\r\n    case REGISTER_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: payload,\r\n      };\r\n    case LOGIN_USER:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: payload,\r\n      };\r\n\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        token: payload.token,\r\n        user: payload.user,\r\n      };\r\n\r\n    case GET_PROFILE:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case GET_PROFILE_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: payload,\r\n      };\r\n\r\n    case GET_PROFILE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        isAuth: payload,\r\n        user: payload,\r\n      };\r\n\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        // isAuth: false,\r\n        user: null,\r\n        token: null,\r\n      };\r\n\r\n    case UPDATE_USER:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case UPDATE_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: payload.user,\r\n      };\r\n\r\n    case UPDATE_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: payload,\r\n      };\r\n\r\n    case FETCH_ALL_USERS:\r\n      return {\r\n        isLoading: true,\r\n        users: [],\r\n      };\r\n    case FETCH_ALL_USERS_SUCCESS:\r\n      return {\r\n        isLoading: false,\r\n        users: payload.users,\r\n      };\r\n    case FETCH_ALL_USERS_FAIL:\r\n      return {\r\n        isLoading: false,\r\n        error: payload,\r\n      };\r\n\r\n    case SEE_ALL_PREFERENCES:\r\n      return {\r\n        ...state,\r\n        preferences: payload,\r\n        loading: false,\r\n        isAuth: payload,\r\n      };\r\n\r\n    case ADD_PREFERENCES:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n\r\n    case ADD_PREFERENCES_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        user: {\r\n          ...state.user,\r\n          myPreferences: payload.myPreferences,\r\n        },\r\n      };\r\n\r\n    case ADD_PREFERENCES_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        errors: payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default userReducer;\r\n"]},"metadata":{},"sourceType":"module"}